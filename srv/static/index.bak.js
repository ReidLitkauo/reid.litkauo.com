!function(n){var t={};function o(e){if(t[e])return t[e].exports;var a=t[e]={i:e,l:!1,exports:{}};return n[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=n,o.c=t,o.d=function(n,t,e){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var a in n)o.d(e,a,function(t){return n[t]}.bind(null,a));return e},o.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="",o(o.s=7)}([function(n,t){window.nn_bias2color=function(n,t=100){var o,e,a,r,c,i,s;if(null==window.nn_data)throw"nn_data not loaded";if(null==this.min||null==this.max)for(this.min=999999,this.max=-999999,e=0,r=(i=window.nn_data.biases).length;e<r;e++)for(a=0,c=(o=i[e]).length;a<c;a++)(s=o[a])>this.max&&(this.max=s),s<this.min&&(this.min=s);return n=(n-this.min)/(this.max-this.min),n=sigmoid(-8*(1-2*(n+.01))),"hsla("+(30+Math.round(300*n))+"deg, 80%, 50%, "+t+"%)"},window.nn_weight2color=function(n,t=100){var o,e,a,r,c,i,s,l,u,f;if(null==window.nn_data)throw"nn_data not loaded";if(null==this.min||null==this.max)for(this.min=999999,this.max=-999999,o=0,r=(l=window.nn_data.weights).length;o<r;o++)for(e=0,c=(f=l[o]).length;e<c;e++)for(a=0,i=(s=f[e]).length;a<i;a++)(u=s[a])<this.min&&(this.min=u),u>this.max&&(this.max=u);return n=(n-this.min)/(this.max-this.min),n=sigmoid(-8*(1-2*n)),"hsla("+(30+Math.round(300*n))+"deg, 80%, 50%, "+t+"%)"}},function(n,t){var o,e=[].indexOf;$.ajax("/assets/nn-params.json",{cache:!0,dataType:"json",success:function(n,t,e){return $((function(){return o(n)}))}}),$.ajax("/assets/nn-samples.json",{cache:!0,dataType:"json",success:function(n,t,o){return window.nn_samples=n,nn_loop()}}),o=function(n){var t,o,a,r,c,i,s,l,u,f,h,d,p,w,_,g;for(window.nn_data=n,0,50,"%",0,100/15,2,"%",window.nn_neuron_ctx=function(){var n,t;for(t=[],o=n=0;n<=2;o=++n)t.push($(".network .neurons.layer-"+o+" canvas.top")[0].getContext("2d"));return t}(),f=function(){var n,t;for(t=[],o=n=0;n<=2;o=++n)t.push($(".network .neurons.layer-"+o+" canvas.btm")[0].getContext("2d"));return t}(),i=a=0;a<=2;i=++a)for(u=r=0;r<=15;u=++r)2===i&&(e.call([0,1,2],u)>=0||e.call([13,14,15],u)>=0)||(h=2===i?u-3:u,90,w=90+200*u,90,70,f[i].beginPath(),f[i].fillStyle=nn_bias2color(n.biases[i][h]),f[i].arc(90,w,90,0,2*Math.PI),f[i].fill(),f[i].closePath(),f[i].beginPath(),f[i].fillStyle="hsl(0deg, 0%, 15%)",f[i].arc(90,w,70,0,2*Math.PI),f[i].fill(),f[i].closePath());for(window.nn_conn_ctx=function(){var n,t;for(t=[],o=n=0;n<=1;o=++n)t.push($(".network .connections.layer-"+o+" canvas.top")[0].getContext("2d"));return t}(),t=function(){var n,t;for(t=[],o=n=0;n<=1;o=++n)t.push($(".network .connections.layer-"+o+" canvas.btm")[0].getContext("2d"));return t}(),i=c=0;c<=1;i=++c)for(t[i].lineWidth=10,nn_conn_ctx[i].lineWidth=10,u=s=0;s<=15;u=++s)for(p=l=0;l<=15;p=++l)1===i&&(e.call([0,1,2],p)>=0||e.call([13,14,15],p)>=0)||(h=u,d=1===i?p-3:p,0,_=90+200*u,970,g=90+200*p,t[i].beginPath(),t[i].strokeStyle=nn_weight2color(n.weights[i+1][d][h],15),t[i].moveTo(0,_),t[i].lineTo(970,g),t[i].stroke(),t[i].closePath());return nn_loop(),!0}},function(n,t){window.nn_guess=(n,t,o)=>{var e,a,r,c,i,s,l,u;for(a=function(n){var t,o;for(t in o=0,n)n[t]>=n[o]&&(o=t);return parseInt(o)},u=function(n){return 1/(1+Math.exp(-n))},c=function(n,t,o){var e,a,r,c,i,s,l,f,h,d,p,w,_,g,m,y,x;for(r in m=[],n)if((_=n[r]).length!==o.length)throw"["+r+"] wcols != arows: "+_.length+" != "+o.length;if(t.length!==n.length)throw"brows != wrows: "+t.length+" != "+n.length;for(r in t)if(t[r].length!==o[0].length)throw"["+r+"] bcols != acols: "+t[r].length+" != "+o[0].length;for(g=n.length,p=n[0].length,o.length,e=o[0].length,w=c=0,f=g;0<=f?c<f:c>f;w=0<=f?++c:--c){for(x=[],a=i=0,h=e;0<=h?i<h:i>h;a=0<=h?++i:--i){for(y=0,l=s=0,d=p;0<=d?s<d:s>d;l=0<=d?++s:--s)y+=n[w][l]*o[l][a];y+=t[w][a],y=u(y),x[a]=y}m[w]=x}return m},e=[(r=function(n){var t,o,e,a,r;for(a=[],t=o=0,e=n[0].length;0<=e?o<e:o>e;t=0<=e?++o:--o)a.push(function(){var o,e,a;for(a=[],o=0,e=n.length;o<e;o++)r=n[o],a.push(r[t]);return a}());return a})([o])],s=i=0,l=t.length;0<=l?i<l:i>l;s=0<=l?++i:--i)e[s+1]=c(n[s],r([t[s]]),e[s]);return[a(r(e[e.length-1])[0]),e]}},function(n,t){var o=[].indexOf;window.nn_run=async function(n){var t,e,a,r,c,i,s,l,u,f,h,d,p,w,_,g,m,y,x,v;for(v=nn_guess(window.nn_data.weights,window.nn_data.biases,n),(a=$(".nn .io .input canvas")[0].getContext("2d")).clearRect(0,0,28,28),r=a.createImageData(28,28),e=c=0,784;c<=784;e=++c)r.data[4*e+0]=255,r.data[4*e+1]=255,r.data[4*e+2]=255,r.data[4*e+3]=Math.round(255*n[e]);for(a.putImageData(r,0,0),l=i=0;i<=2;l=++i)for(nn_neuron_ctx[l].clearRect(0,0,180,3180),h=s=0;s<=15;h=++s)2===l&&(o.call([0,1,2],h)>=0||o.call([13,14,15],h)>=0)||(d=2===l?h-3:h,90,m=90+200*h,90,70,t="hsl(0deg, 0%, "+Math.round(100*v[1][l+1][d])+"%)",nn_neuron_ctx[l].beginPath(),nn_neuron_ctx[l].fillStyle=nn_bias2color(nn_data.biases[l][d]),nn_neuron_ctx[l].arc(90,m,90,0,2*Math.PI),nn_neuron_ctx[l].fill(),nn_neuron_ctx[l].closePath(),nn_neuron_ctx[l].beginPath(),nn_neuron_ctx[l].fillStyle=t,nn_neuron_ctx[l].arc(90,m,70,0,2*Math.PI),nn_neuron_ctx[l].fill(),nn_neuron_ctx[l].closePath());for(l=u=0;u<=1;l=++u)for(nn_conn_ctx[l].clearRect(0,0,970,3180),h=f=0;f<=15;h=++f)for(w=_=0;_<=15;w=++_)1===l&&(o.call([0,1,2],w)>=0||o.call([13,14,15],w)>=0)||(d=h,p=1===l?w-3:w,0,y=90+200*h,970,x=90+200*w,g=Math.round(80*v[1][l+1][d]),nn_conn_ctx[l].beginPath(),nn_conn_ctx[l].strokeStyle=nn_weight2color(nn_data.weights[l+1][p][d],g),nn_conn_ctx[l].moveTo(0,y),nn_conn_ctx[l].lineTo(970,x),nn_conn_ctx[l].stroke(),nn_conn_ctx[l].closePath());return $(".nn .io .input canvas").css("opacity",1),await sleep(400),$(".nn .network .neurons.layer-0 canvas.top").css("opacity",1),await sleep(400),$(".nn .network .connections.layer-0 canvas.btm").css("opacity",0),$(".nn .network .connections.layer-0 canvas.top").css("opacity",1),await sleep(500),$(".nn .network .neurons.layer-1 canvas.top").css("opacity",1),await sleep(400),$(".nn .network .connections.layer-1 canvas.btm").css("opacity",0),$(".nn .network .connections.layer-1 canvas.top").css("opacity",1),await sleep(400),$(".nn .network .neurons.layer-2 canvas.top").css("opacity",1),await sleep(400),sevenseg($(".nn .io .output .sevenseg"),v[0]),!0}},function(n,t){window.nn_clear=function(){return $(".nn .network canvas.btm").css("opacity",1),$(".nn .network canvas.top").css("opacity",0),$(".nn .io .input canvas").css("opacity",0),sevenseg($(".nn .io .output .sevenseg")),!0}},function(n,t){window.nn_loop=async function(){if(null==window.nn_data||null==window.nn_samples)return!1;for(null==this.break&&(this.break=!1),null==this.i&&(this.i=0);!this.break;)nn_clear(),await sleep(1500),await nn_run(nn_samples[this.i++%window.nn_samples.length]),await sleep(3e3);return!0}},function(n,t){$((function(){return $.ajax("/captcha/generate",{success:function(n,t,o){var e,a,r,c,i;for($("section.contact form .captcha span").html(n.q),i=[],a=0,r=(c=n.a).length;a<r;a++)e=c[a],i.push($("section.contact form").append(`<input type='hidden' name='captcha_answer[]' value='${e}'>`));return i},error:function(n,t,o){return console.log("Error while getting captcha: "+t)}})})),window.contact_beforeSubmit=function(n){return $("section.contact form button").prop("disabled","true"),$("section.contact form button > *").not(".loading").css("opacity","0"),$("section.contact form button .loading").css("opacity","1")},window.contact_success=function(n,t,o){return $("section.contact form .fields").css("opacity","0"),$("section.contact form .success").css({opacity:"1","z-index":"2"})},window.contact_error=function(n,t,o){return $("section.contact form button").prop("disabled",""),$("section.contact form button > *").not(".error").css("opacity","0"),$("section.contact form button .error").css("opacity","1").html(n.responseJSON.msg)}},function(n,t,o){"use strict";o.r(t);o(0),o(1),o(2),o(3),o(4),o(5),o(6)}]);